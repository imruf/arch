#!/bin/sh

case $BLOCK_BUTTON in
	1) alacritty -d 140 18 -e nmtui; pkill -RTMIN+4 dwmblocks ;;
	3) notify-send "ðŸŒ Internet module" "\- Click to connect
ðŸ“¡: no wifi connection
ðŸ“¶: wifi connection with quality
âŽ: no ethernet
ðŸŒ: ethernet working
ðŸ”’: vpn is active
" ;;
	6) "$TERMINAL" -e "$EDITOR" "$0" ;;
esac

icon="ðŸ“¡"
wlp=$(cat /sys/class/net/wlp4s0/operstate 2>/dev/null)
sig=$(grep "^\s*w" /proc/net/wireless | awk '{ print "ðŸ“¶", int($3 * 100 / 70) "%" }')

if [ "${wlp}" == up ]; then
printf "%s" "$sig"
else
printf "%s" $icon
fi
